<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">



<title>TravelPortal</title>
<link href=".css.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="https://ff.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=GB1UzhKEwYYS-8R3Az0hiLo4CtH68YXWMyJhD7UYGtbARcL5fsJK-1-ei42iBrT6ZMCW_XrG_BNCi4YYomFl2tqa7p-7dHSpyvkm6kIATirrg3UNAtCAupTEuZBfADH8KWhratf_4a8HUQKdRGQ4sejfwjynEV6QgpboNA0JJMUgvjwOO7OVbVhRfCCCO2zXHEiEwun8sr_JYwW3_N7_ZrlkWyZ8cyrfFHoHlKkJrOiS5A641FE2OlyVGZK1Iwy-Zvd_ooNkhN5WJcm7JFHwo13I6hfDpae_hheBZzcAhV0j9cpyoDvFE8Oypy4gKw7nA7ShV9DgmQq1Y-tkq9_00uy5inNS-rhc1teUl_H9NDKzBiO8YnKyxUmNAnI4qI05CcdEGUsjPluc5q5_mDdueQoPJ8CVTxaXjOUpHzRirNB2BEjFaSqroyVfokxCa_mmUXaf1x9yXFkeOMpyA1HByHzFnri2hlLcBLNtr_IZAse07o8sqLJLPhg8CU5gtoEU2EfpLUD0LDFHb8BaeKJaZ2kleRDsHjQZU0SwTHerU9GQEHBSpyp3quz0tW8kk-N-ME_gr7jcWP_Cgd2UzA49XgLpGXHGyNB2MJYwZaQtT_o70DL6jZzzXNZVqw94bIH9FqQ1hx8Xhp4I7W2GVoeoPZuPlrI_6sVC8j9dFEbYHvW_yOsbxW-oLBw3vE-qrAUgRp_Ow6b2eKq1oY5eyz-KORjrz_Mi0NckWVXsSdZvjc9PlB5TPWGrAc3QQsaLz5VfGg0iLOsuExXs_-KDsHpX8Sy6GcV48AQ0siUIpH6lJQjpCh9u9Cnq6MtKelzuv2g844Xg9U1JS8FEmX6xR9_jq9uAuo2BXT_3zicyCLun-zS-xNHcFHSyVJclotJgTmUzt0J_QtO4rgjgNjNL1s5K6wgMbpOVX0hiHhwSGC6mZx64Njb21mi69Fqe39fk8YTpt7UlXvR9MMUnojJeub7ByI_EqAGlMUcJURE2zYfCrZrmo_FunPOo2nk0lmhc3FgDQLDZRU7fuMUQZr2EbdibYB98mLRrt6BGI9hLuTbdX33A-rf_WKNfQT4Go6k1BegD23P08fUoDP0IFsDwqds9c53qNGiy30T5HeQUgCZsLHzue0JEGAoPglts-9Bq1a7tj_h8hgTyXXL3bbvUzNBI5NO1aZb5eYeTyg5V6Fr0w86-EFdFCgX6rLI9HDmOz8qXQnNTB4k_yKCJukUDqS9nYXOQ9ujPAERB3KN4WBTxpWk-aUyNVD6-Dcf8PVqrYlJuDKjArUXsK3NofJgV0oVegFIYes_c9hHaaC0k-rJxg5zJZA2l5O9RszTSNa-BA8DqIUivSbbwznLzOey9-P2xcH71nvvoTQ2zQdJlxSlx4ZAeqzmD2NnED6WcDxk1Hk_bYptbDVWmvHA_-b_ZWqUNhJxt0vg3Jc9ZnejptJVmT9QwEa-7dDFR7j5X91fX7l-QRlxjm5jAUkv7JvgDSdoAa1lq0EaqwaXIoyaAL4rPBzoXeICMn7JAKjyer7QS8LCiye0bnIiC5SYR16b25WUji0WbMRDXtSITkyLdiDEkjFnc2ga_ChDLhFFn3pWJ8V2XCy2-f4pIsVedFBch3yJ8bWgHrG08Nn5Z3skTtWyhXk8K1vi1a6IqVbMxV0QBdKwArY9U1ofez2tEXNicGpWQbz11IXYympF3TxVvJ2U4yJQ8ooI8_wkKeudn5HK6G_k30EDLNBkm80gB0U1L3Mrqk99whQvsPsxkIcWdAJK4FPQ7EkgvNYx3PrbQP1WJHDN23CvKZqI8-wms8tsVt2XzfheAGlMvs7OGeAlgvOo2UjS-N860vvDhAb3qAF3slcCKaOG52sAAAFHs9DRw3bjBcnH2CNafzP6n_CuyFYu_6_65pkpiwhEjCAaxZagysVdA6B66zat1kiKPTqVsRb3x1waVmuz7OQX-9uX3iPtDgs1pNSQN3nVpDM8Z-jRv9Ih2gcoJFsYJ8hchxcNG9oSEwAKAKunG_hn_CERFAk-V0cSPgsuVesu9hno4HnHnHXHGY5_YAHyepLPH_rvh0VIQoXAX6kYWQxBcSBJd3yJ4xnjF-HTGjmrwa89id8BLyW8BIYqhme4ryAFss1KGeMKbiNMBBHFEhYc7ZcVwwJVVdi5gYvAI-Kiv2obDAkJLX7UWYEzX0Bew9O-FXazsj5HXrYF1T0O0IwyHqADGZaqCdeEQ85ov_fPFGbI_lB9KhbCZxu4SD9s84p2_-vFuoSSHYPFhdbGuHfKhfoj9oLPL1oLGRBLJHlC0ZgnIkAokzt-Dha6tSCgd5q2JzBDuRNqRZGK0pQzchndU7P3Q3Z6vCqsKSn-TIDS1dbEtECT8cyONX4gLXnpQbklat-34oWVPzrX67tj4TH2pngx3XGKqaCcdpgWjR36XRFpVRLWedGHM-VMVpblGqkJvJpOSLIl9BvdMN8nj7HEdWxIgDz8I2wPpTbhPgyMl9P7wR0XaX2ME" charset="UTF-8"></script><link rel="stylesheet" crossorigin="anonymous" href="https://ff.kis.v2.scr.kaspersky-labs.com/E3E8934C-235A-4B0E-825A-35A08381A191/abn/main.css?attr=aHR0cHM6Ly9hdHRhY2htZW50cy5vZmZpY2UubmV0L293YS9naW92YW5uaS5zcXVpbGxlcm8lNDBwb2xpdG8uaXQvc2VydmljZS5zdmMvcy9HZXRGaWxlQXR0YWNobWVudD9pZD1BQU1rQUdOa05XWTVNekE0TFRRd01UZ3ROR1JqWWkwNFltUmlMVFJqTVRRME5tSTJOR0U1T1FCR0FBQUFBQUNpejVrelpxeXVSNVlRRmdaRmEzJTJmQUJ3QzRWZyUyYmV5T2VyUzd1NElqd3hCNEpLQUFQb2wwZ29BQUM0VmclMmJleU9lclM3dTRJand4QjRKS0FBUG9uZ0N5QUFBQkVnQVFBQnlGSWlxOVN1ZEltVlY0SyUyYjFUM0VJJTNkJnRva2VuPWV5SmhiR2NpT2lKU1V6STFOaUlzSW10cFpDSTZJak13T0RFM09VTkZOVVkwUWpVeVJUYzRRakpFUWpnNU5qWkNRVVkwUlVORE16Y3lOMEZGUlVVaUxDSjBlWEFpT2lKS1YxUWlMQ0o0TlhRaU9pSk5TVVkxZW13NVRGVjFaVXhNWW1sWFlUWTVUM3BFWTI1eWRUUWlmUS5leUp2Y21sbmFXNGlPaUpvZEhSd2N6b3ZMMjkxZEd4dmIyc3ViMlptYVdObE16WTFMbU52YlNJc0luVmpJam9pTW1ObE1qQTJNemc0T0RRek5EYzRZVGt5T0RjMU16RmlNVEppTjJVMU1URWlMQ0p6YVdkdWFXNWZjM1JoZEdVaU9pSmJYQ0pyYlhOcFhDSmRJaXdpZG1WeUlqb2lSWGhqYUdGdVoyVXVRMkZzYkdKaFkyc3VWakVpTENKaGNIQmpkSGh6Wlc1a1pYSWlPaUpQZDJGRWIzZHViRzloWkVBeVlUQTFZV001TWkweU1EUTVMVFJoTWpZdE9XSXpOQzA0T1RjM05qTmxabU00WlRJaUxDSnBjM055YVc1bklqb2lWMWNpTENKaGNIQmpkSGdpT2lKN1hDSnRjMlY0WTJod2NtOTBYQ0k2WENKdmQyRmNJaXhjSW5CMWFXUmNJanBjSWpFeE5UTTRNell5T1RZMU1UVXpOamcxTVRGY0lpeGNJbk5qYjNCbFhDSTZYQ0pQZDJGRWIzZHViRzloWkZ3aUxGd2liMmxrWENJNlhDSTNZMk01TUdZeU5TMWtaall6TFRRMk0yVXRPRFk1WXkweFpEa3haVFF4T1RkbE1qRmNJaXhjSW5CeWFXMWhjbmx6YVdSY0lqcGNJbE10TVMwMUxUSXhMVEV3TXpNMU1UWXdOalV0TVRjME1qSTRNRGt3TFRVM05ESXlNakF6TWkweE16RXdOekUyTjF3aWZTSXNJbTVpWmlJNk1UWXlNak01TXpJeU5pd2laWGh3SWpveE5qSXlNemt6T0RJMkxDSnBjM01pT2lJd01EQXdNREF3TWkwd01EQXdMVEJtWmpFdFkyVXdNQzB3TURBd01EQXdNREF3TURCQU1tRXdOV0ZqT1RJdE1qQTBPUzAwWVRJMkxUbGlNelF0T0RrM056WXpaV1pqT0dVeUlpd2lZWFZrSWpvaU1EQXdNREF3TURJdE1EQXdNQzB3Wm1ZeExXTmxNREF0TURBd01EQXdNREF3TURBd0wyRjBkR0ZqYUcxbGJuUnpMbTltWm1salpTNXVaWFJBTW1Fd05XRmpPVEl0TWpBME9TMDBZVEkyTFRsaU16UXRPRGszTnpZelpXWmpPR1V5SWl3aWFHRndjQ0k2SW05M1lTSjkuVGhtdjNLa2hJaUZpTTlDLTRtZjZFLWpGVWt5M1ZyN01wWGRHZTAwRE1kTE44d0ZIdnlHUmMtTDh3R1RNY1RIcXFQM29wOWdYZXVBdlY5enBkY0c3VFk4Yy1vcmdDeFFONV9GRFlpSDVueTBjenFYd0Y3cE9yd3dzY2wxLUI5Ukp3elNuenV5RVJKNjZncklXeDFBZFZDenZVY2gxTHpHTTNiUzFITUVydFlCc1R1Y0JKWDBCOEdlbm9hV0s4YjhXZkF4SnVEWUlBVEh1ZDAtWUluYTZ4MVFXRVk0WXNvSWdtZlRtcVpscXRrRXRsa0JMUkdXT1lEemFlQjdPOTJvTFBTeFZOT3RGVndqek1JU0lJNERQMklzNlhfUDc2bHpWcjF2UTRUNTJCMnhVWHQ4R1Z6VnZuOE41ckl1LWhLMDhDSEllTGJBTzFSemxtWFlMaXdrcE9BJlgtT1dBLUNBTkFSWT1NT1RUd3NrcUxFUzYyaC1uR1BmR1lRQWN2anlMSTlrWU9UT01XelBOQ3hjSUMzZjZLUGF2UDdFeW9nTjh0TVN4XzFoS18wdDBpamcuJm93YT1vdXRsb29rLm9mZmljZTM2NS5jb20mc2NyaXB0VmVyPTIwMjEwNTI0MDA0LjE1JmlzRG93bmxvYWQ9dHJ1ZSZhbmltYXRpb249dHJ1ZQ"/><style>
@media print {  /* adjusted to print the html to a single-page pdf */
body {
	font-size: 10pt;
}
</style>
</head>
<body>

<h1>TravelPortal</h1>
The program simulate a travel website. All classes are in the package <b>travelPortal</b>. The main class is <b>TravelPortal</b>. The class <b>TestApp</b> in package <b>example</b> contains an example, it shows some test cases (not all).
Exceptions are thrown through class <b>TPException</b>; only the checks that are explicitly required should be implemented.
<p>It is possible to access to the full <a href="https://oop.polito.it/api/">Java API documentation</a>.


<h2>Activity types and travel agencies</h2>

The method <b>addActivityTypes (String... names)</b> is used to define the names of the types of the activities and returns a list with all the names in alphabetic order.
<p>
The method <b>addTravelAgency (String name, String... actityTypes)</b> defines a travel agency by its name, and indicates the names of the activity types that it offers; the method returns the number of the types of activity that are offered. It throws an exception if the agency is already defined, or if any of the activity types is undefined.
<p>
The method <b>getAgenciesForActivityTypes ()</b> returns a map with the names of the activity types as key, and the list of travel agencies that offer it. Both keys and values are sorted alphabetically. Activity types that are not offered by any agency should be ignored.


<h2>Travel proposal</h2>

The method <b>addProposal (String code, String agency, String destination, String period, int minNP, int maxNP, int price)</b> adds a travel proposal with the following parameters: unique code of the proposal, name of the travel agency that proposed the travel, destination, travel period, minimum (minNP) and maximum (maxNP) number of participants, price of the travel. The period has format "m:i-f", where <b>m</b> is the number of the month, <b>i</b> is the number of the departure day and <b>f</b> is the number of the return day; for instance, 8:10-20 denotes a travel from August, 10th to August, 20th. The day <b>i</b> and <b>f</b> are in the same month.
The method returns the length of the travel (the difference between <b>f</b> and <b>i</b>) and throws an exception if code of the proposal has already been defined, or if the agency is undefined.
<p>

The method <b>addActivity (String code, String activityType, String description, int price)</b> adds to the proposal with the given code an activity with the following parameters: activity type, description, price. It throws an exception if the travel agency does not offer the selected type of activity. The method returns the total of the price of the activities added to the proposal.
<p>

The method <b>getProposalPrice (String code)</b> returns the total price of the proposal including travel and the activities added to the proposal. Activities are not mandatory. the method throws an exception if the code does not correspond to any proposal.
<p>

<h2>Participants</h2>

The method <b>addParticipants (String code, String... names)</b> adds the names of the participants to the proposal selected through the parameter code. The parameter names list the names of the applicants: applicants are accepted only if they do not non participate to another proposal that overlaps the month and some of the days.
For instance, if the applicant <em>Alice</em> participate to proposal <em>P1</em> that is held in period <i>8:6-12</i>, Alice's next request fo proposal <em>P2</em> that i held in period <i>8:10-10</i> is rejected because there is an overlapping. Accepted applicants become participants.
The method returns the list of the participants in the same order as specified in parameter <i>names</i>. It throws an exception if the number of participants is not in the range minNP-maxNP (extremes included) set in the proposal.
<p>

The method <b>getIncome (String code)</b> returns the economic result of the proposal selected by the code. Such economic result is calculated by multiplying the total price of the proposal by the number of participants.

<h2>Evaluations</h2>

The method <b>addRatings (String code, int... evaluations)</b> returns the evaluations (integer values) to the proposal selected by the code. The number of the evaluations must be equal to the number of participants, otherwise an exception is thrown. It is easy to determine the authors of the evaluations: evaluation with index j has been provided by participant with index j (in the list of the participants).
The method returns for each participant, the name followed by <i>":"</i> and by the evaluation. The tokens "name:evaluation"are joined by commas <i>", "</i>. For example: <i>"pt2:10, pt4:12, pt6:14, pt8:16"</i> (see TestApp). 
<p>

The method <b>getTotalRatingsForParticipants ()</b> returns for each participant the sum of the values of the participant's evaluations. The keys are the names of the participants ands must be sorted alphabetically. The participants that provided at least one evaluation are considered.


<h2>Statistics</h2>

the method <b>incomeForActivityTypes() </b> returns for each types of activity the sum of the prices of the connectedactivities. The types of activities without any connected activity are ignored. The keys are the names of the types of activities and are sorted alphabetically.
<p>

The method <b>participantsWithSameNofProposals ()</b> returns the list of the names of the participants that participate to the same number of proposals. The keys are the number of the proposals in increasing order, the list of names are sorted alphabetically.
<p>

</body>
</html>
